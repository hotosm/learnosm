---
layout: doc
title: JOSMの操作方法
permalink: /ja/beginner/more-about-josm/
lang: ja
category: beginner
---

JOSMの機能について
===============
ひとつ前の章では、JOSMのインストール、およびポイントやライン、シェイプを描く方法について触れました。また、描いたオブジェクトに対して、プリセットメニューを利用してタグ情報を付与する方法についても触れています。JOSMを使って自分の地図を描画することが可能な状態です。

それでは、練習を終わりにして、ここからは実際にOpenStreetMapを編集してみましょう。

この章では、JOSMの画面表示について詳しく紹介します。JOSMを使ってOpenStreetMapを編集するにはどうしたらよいのかを、この章で学習しましょう。

編集サイクル
---------------------
JOSMでのOpenStreetMap編集は、以前に紹介したiDを使った編集と似ています。ですが、JOSMはデスクトップアプリケーションとして機能するソフトウェアであり、その挙動はiDと少々異なります。JOSMを使ってOpenStreetMapを追加編集する際のプロセスは、常に以下のサイクルになります: 

1. 現在のOSM地図データを **ダウンロード** 

2. 衛星画像やGPS、Field Papers、ノートなどを参照して **編集**
3. OpenStreetMapへデータの **保存**

OSMデータのダウンロード
--------------------
編集を行うにあたって、最初のステップは作業対象となる地域の地図データのダウンロードです。この作業は、あなたが編集を行おうとする場合、毎回実施する必要があります。なぜならば、同じ地域や同じデータを更新しているユーザはあなた以外にも存在している可能性が高いためです。

-   JOSMの左上に表示されている"ファイル"をクリックし、"OSMからダウンロード"を選択します。選択するとダウンロード用のウィンドウが表示されます。同様の画面は、JOSMに表示されている以下のダウンロードボタンをクリックすることでも表示可能です: 

![JOSM Download Button][]

-  ダウンロードウィンドウが表示されると、地図部分にピンク色の四角形が表示されています。地図が表示されない場合は、"スリッピーマップ"のタブをクリックしてください。

![JOSM Download Dialog][]

-   ピンク色の四角形は、編集作業のために必要なOSMデータのダウンロード範囲をあらわします。マウスを使って、住んでいる町や生まれ故郷など、あなたのよく知っている地域まで表示を移動させてください。マウスを右クリックしながらドラッグすることで、地図の表示を移動させることができます。表示の拡大・縮小はホイールを回転させてください。

>	ノートPCを使っている場合、地図の表示変更の操作が非常に難しくなることがあります。
>   JOSMを使う場合、マウスを利用することをお勧めしますが、タッチパッドを使って作業を行うこともできないわけではありません。

-	データをダウンロードする地域を、ドラッグアンドドロップで範囲選択して選んでください。マウスを左クリックして、クリックを続けたまま動かして四角形を作り、適当な大きさになったらマウスのボタンを話してください。
-   適度な大きさの四角形ができたら、ウィンドウの下にある"ダウンロード"をクリックします。JOSMは対象の地域のデータを取得し、編集用データとしてマップウィンドウに表示させます。

### 航空写真の追加
iDエディタを使って最初のポイントデータを追加した時のことを思い出してください。データ編集の補助として、背景画像に航空写真が表示されていることを覚えているでしょうか。この航空写真はMicrosoftのBingから、OpenStreetMapユーザが地図を編集する際の参考画像として利用してよいとして提供されています。

-   Bing画像をJOSMで表示させるには、JOSM上部の"画像"メニューから"Bing衛星写真"を選択します。

>   "画像"メニューに"Bing衛星写真"の項目がない場合は、JOSMの設定画面から項目を有効化する必要があるかもしれません。
>   アイコンメニューの"設定"のなかにある"WMS TMS"をクリックしてください。下向きの矢印ボタンをクリックする必要がある場合もあります。
>
>   ![JOSM Preferences up down][]
>   ![JOSM Preferences WMS TMS][]
>
>   "Bing衛星写真"をクリックし、"有効化"を選択してください。

### JOSM機能ツアー
編集対象となるOpenStreetMapデータのダウンロードと、参照画像となるBing衛星画像の追加が完了したら、JOSMの他の機能についても目を向けてみましょう。

![JOSM layout][]

すでに何度も表示している、メインウィンドウ部分です。ここはマップウィンドウとも呼ばれ、OpenStreetMapデータの閲覧、編集、追加など、作業のほとんどはこの部分で行います。

マップウィンドウの右側にはいくつかのパネルが表示されており、それぞれが別の機能を表示しています。インストールしたばかりのJOSMでは、デフォルト設定として、レイヤー、プロパティ、選択、という名称のパネルが表示されていることでしょう。マップウィンドウでOSMデータのポイントやライン、シェイプを選択すると、どのオブジェクトを選択しているかが"選択"パネルに表示されます。選択したオブジェクトに関連付けられた情報については"プロパティ"パネルに内容が表示されます。また、Authorパネルにはそのオブジェクトの作成者のユーザー名が表示されます。

JOSMの左側には、たくさんのアイコンがツールバーとして配置されています。このツールバーの一番上に表示されているボタンは他のボタンとは異なり、選択するとマウス操作の挙動が変更されます。一番上の"選択"ボタンと二番目の"描画"ボタンはもう使ったことがあるかもしれません。その他のツールは、地図の拡大縮小やオブジェクトの削除、既に描かれているラインと並列したラインを自動生成する機能などを提供します。

編集
----
ここまでの作業で、編集プロセスの第一段階である "データのダウンロード"が完了しています。また、編集時の参考情報として衛星画像の準備もできました。次は実際に地図を編集し、データを追加してみましょう。

ダウンロードした地域にもよりますが、そこにはすでにいくつかのデータが存在している場合があります。ですが、怖がらずにそれらのデータをひとつひとつ見てみると、そうしたデータもすべて、ポイントやライン、シェイプなど、これまで学習したものと同じ形式で現実の世界を表現しているだけであることに気がつくはずです。

-   これまでに学習した操作を思い出して、記憶を頼りに地図の中へいくつかポイント情報を追加してみましょう。既存のデータに間違いを見つけた場合は、その修正を行ってもよいでしょう。
-   まだ慣れないうちは、大規模な編集を行わないことをお勧めします。また、よくわからない部分がある場合はひとまずその部分は手を付けず、そのままにしておいたほうがよいかもしれません。
-   ポイントやライン、シェイプを移動させるには **選択ツール** を使います。オブジェクトをクリックして選択し、ドラッグして正しい位置まで移動させてください。

![JOSM select tool][]

-  新しくポイントやライン、シェイプを描くには **描画ツール** を使います。
   オブジェクトを描いたら、前章の内容を参考にして、プリセットから対象のオブジェクトの情報を追加してください。

> データをダウンロードした範囲よりも外のデータを編集しないようにしてください。
> データをダウンロードした範囲については、データの内容が定まっていますが、そうではない地域はどのようなデータがあるか確定していません。
> ダウンロードしていない地域は、少し暗く斜め線の入った状態で表示されています。
>
>   ![JOSM area downloaded][]

変更の保存
--------------
変更作業の最後のステップは、変更を行ったOpenStreetMapデータのアップロードです。変更を保存するには、コンピュータがインターネットと接続されている必要があります。

-  上部メニューから"ファイル"をクリックし、"データをアップロード"を選択することで、アップロード情報を表示するウィンドウが表示されます。
   このウィンドウは、上部のアイコンメニューから以下のボタンをクリックすることでも表示できます:

![JOSM Upload Button][]

-  ウィンドウには、あなたが編集を行ったり削除したりしたオブジェクトがリスト表示されています。
   ウィンドウの下部には入力欄があります。今回の変更に際してどのような編集を行ったか、コメントを入力してください。

![JOSM Upload Dialog][]

-   "変更のアップロード"をクリックしてください。

-	OpenStreetMapへの編集をはじめて行う場合、OpenStreetMapのユーザ名とパスワードの入力を求められます。
-   ユーザ名とパスワードを入力して、"認証"をクリックしてください。チェックボックスにチェックをいれると、ユーザ名とパスワードが保存され、今後の入力が不要になります。

![JOSM Authenticate][]

-	変更内容がアップロードされるまでしばらく待ちましょう。ウィンドウが消えたら完了です。これで、OpenStreetMapのデータを編集したことになります。

>	編集を行う際は、JOSMを停止する前に変更内容をアップロードするようにしてください。
>   より多くの変更作業が必要な場合もいったん作業内容をアップロードし、後でまた時間ができた時に作業の続きを行うようにします。
>   作業内容が無駄にならないように、気をつけましょう。

地図上で変更結果を確認
---------------------------
-   ブラウザを起動して [http://openstreetmap.org/](http://openstreetmap.org/) を表示させます。
-   あなたが編集を行った地域まで表示を移動させます。
-   あなたが変更した内容が表示されているでしょうか？ もし表示されない場合は、キーボードの Ctrl+R を押してページを更新してください。時折、データが正しく更新されない場合もあります。
-   変更した内容が全く表示されない場合も心配しないでください。すこし時間を置いてからまた試すようにするか、あるいはJOSMの状態を確認して、アップロードが正しく完了しているかをチェックしてください。JOSM上で追加したポイント情報がアイコンで表示されている場合、たいていはOpenStreetMapウェブサイト上でもアイコンとして表示されます。

まとめ
-------
OpenStreetMapのデータ編集方法の詳解は、ひとまずこれで完了です。次に紹介するのは、地図作りのもうひとつの側面である、データの収集です。地図を作る際には、編集の対象となる地域を調査し、情報を収集する必要があるのです。

次の章では、2つの収集方法を紹介します。GPSとField Papersで、どちらも地理データを収集する方法です。この2つの方法で収集したデータは、JOSMで読み込み、地図作成の際の情報源として利用することができます。

[JOSM Download Button]: /images/jp/beginner/04_more-about-josm/jp_beg_04_more-about-josm_image00_download-button.png
[JOSM Download Dialog]: /images/jp/beginner/04_more-about-josm/jp_beg_04_more-about-josm_image01_download-dialog.png
[JOSM Preferences up down]: /images/jp/beginner/04_more-about-josm/jp_beg_04_more-about-josm_image02_preferences-up-down.png
[JOSM Preferences WMS TMS]: /images/jp/beginner/04_more-about-josm/jp_beg_04_more-about-josm_image03_preferences-wms-tms.png
[JOSM layout]: /images/jp/beginner/04_more-about-josm/jp_beg_04_more-about-josm_image04_layout.png
[JOSM select tool]: /images/jp/beginner/04_more-about-josm/jp_beg_04_more-about-josm_image05_select-tool.png
[JOSM area downloaded]: /images/jp/beginner/04_more-about-josm/jp_beg_04_more-about-josm_image06_area-downloaded.png
[JOSM Upload Button]: /images/jp/beginner/04_more-about-josm/jp_beg_04_more-about-josm_image07_upload-button.png
[JOSM Upload Dialog]: /images/jp/beginner/04_more-about-josm/jp_beg_04_more-about-josm_image08_upload-dialog.png
[JOSM Authenticate]: /images/jp/beginner/04_more-about-josm/jp_beg_04_more-about-josm_image09_authenticate.png
